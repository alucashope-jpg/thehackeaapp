<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACKEA BRASIL | Acompanhamento de Pedidos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #4f46e5; /* Indigo */
            --color-secondary: #14b8a6; /* Teal */
            --color-dark: #070e17; /* Very Dark Blue */
            --color-bg-card: #151f2e;
            --color-light: #f8fafc;
            --color-success: #10b981; /* Emerald */
            --color-error: #ef4444; /* Red */
            --progress-dot-size: 28px; /* Tamanho do círculo do progresso */
            --progress-line-height: 4px; /* Espessura da linha (mais fina) */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-dark);
            background-image: radial-gradient(circle at 1px 1px, rgba(30, 41, 59, 0.4) 1px, transparent 0);
            background-size: 20px 20px;
            color: var(--color-light);
            min-height: 100vh;
        }
        /* Custom Scrollbar Styling */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: var(--color-primary); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6366f1; }
        
        /* Estilos de Sombra e Glow */
        .card-shadow {
            box-shadow: 0 0 30px rgba(79, 70, 229, 0.1), 0 0 5px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }
        .status-success-shadow {
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.2), 0 0 5px rgba(0, 0, 0, 0.5);
        }
        .status-error-shadow {
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.2), 0 0 5px rgba(0, 0, 0, 0.5);
        }

        /* PROGRESS BAR STYLES (Progress Line Hover) */
        .progress-container {
            position: relative;
            display: flex;
            align-items: center;
            /* Padding ajustado para o alinhamento da linha */
            padding: 0 calc(var(--progress-dot-size) / 2); 
            margin-top: 10px;
            width: 100%;
        }

        /* Linha de progresso (4px) - Alinhamento Perfeito */
        .progress-line {
            position: absolute;
            top: calc(var(--progress-dot-size) / 2 - var(--progress-line-height) / 2); 
            height: var(--progress-line-height);
            background: #334155; /* Cor da linha base (slate-700) */
            left: 0; 
            right: 0;
            z-index: 10;
            border-radius: 3px;
        }

        /* Linha de preenchimento do progresso */
        .progress-fill {
            height: 100%;
            background: var(--color-primary);
            transition: width 0.8s ease-in-out, background-color 0.3s;
            border-radius: 3px;
        }
        
        /* Círculo do indicador (Vazio, só borda) */
        .progress-indicator {
            width: var(--progress-dot-size);
            height: var(--progress-dot-size);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 20;
            background-color: var(--color-bg-card); /* Fundo do card para flutuar */
            border: 2px solid #334155; /* Borda padrão (slate-700) */
            flex-shrink: 0;
            transition: all 0.3s ease;
        }
        
        /* Ícone de Check/X no centro */
        .indicator-icon {
            width: 70%;
            height: 70%;
            color: transparent; /* Invisível por padrão */
            transition: color 0.3s;
        }

        /* Animação para o estado "Current" (Pulsação no anel) */
        @keyframes pulse-dot {
            0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(79, 70, 229, 0); }
            100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); }
        }
        .dot-current {
             animation: pulse-dot 1.8s infinite;
             box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7);
             border-color: var(--color-primary) !important; /* Borda primária pulsante */
        }
        
        .progress-steps-wrapper {
            width: 100%;
            display: flex;
            justify-content: space-between; 
            position: relative;
        }

        .progress-step-container {
            display: flex;
            flex-direction: column;
            align-items: center; 
            text-align: center;
            flex-shrink: 0;
            padding: 0 5px;
            /* MUDANÇA: Permite que o texto quebre */
            white-space: normal; 
        }
        
        /* Ajusta o alinhamento do texto nas pontas */
        .progress-steps-wrapper > .progress-step-container:first-child > span {
             text-align: left; 
        }
        .progress-steps-wrapper > .progress-step-container:last-child > span {
             text-align: right; 
        }
        /* Centraliza os indicadores nas etapas intermediárias */
        .progress-steps-wrapper > .progress-step-container:nth-child(2) > span,
        .progress-steps-wrapper > .progress-step-container:nth-child(3) > span {
             text-align: center; 
        }

        /* MUDANÇA: Força o alinhamento dos dots para as extremidades no mobile */
        .progress-steps-wrapper > .progress-step-container:first-child {
            align-items: flex-start;
            
        }
        .progress-steps-wrapper > .progress-step-container:last-child {
            align-items: flex-end;
        }
        
    </style>
</head>
<body onload="initTracker()">

    <!-- Header / Sticky Navigation --><header class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-sm shadow-lg border-b border-indigo-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo --><a href="#" class="flex items-center space-x-2 text-xl font-extrabold">
                    <i data-lucide="shield-half" class="w-5 h-5 text-teal-400 flex-shrink-0"></i>
                    <div class="flex flex-col leading-none">
                        <span class="text-teal-400 text-base">HACKEA</span>
                        <span class="text-white text-base -mt-1">BRASIL</span>
                    </div>
                </a>

                <!-- Desktop Navigation Links --><nav class="hidden md:flex md:space-x-6 text-sm font-medium">
                    <a href="index.html#proposta" class="text-slate-300 hover:text-teal-400 transition">Proposta</a>
                    <a href="index.html#servicos" class="text-slate-300 hover:text-teal-400 transition">Serviços</a>
                    <a href="index.html#ferramentas" class="text-slate-300 hover:text-teal-400 transition">Ferramentas</a>
                    <a href="index.html#valores" class="text-slate-300 hover:text-teal-400 transition">Planos</a>
                    <a href="#" class="text-slate-300 hover:text-teal-400 transition">Notícias de Hack</a>
                    <a href="#" class="text-slate-300 hover:text-teal-400 transition">Apps Modificados</a>
                    <a href="#" class="text-indigo-400 hover:text-indigo-300 transition font-bold">STREAMING Mais em Conta</a>
                </nav>

                <!-- Action Button --><button onclick="window.location.href='index.html'" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition ml-4">
                    <i data-lucide="home" class="w-3 h-3 mr-1"></i>
                    Voltar ao Início
                </button>
            </div>
        </div>
    </header>

    <main class="py-10 lg:py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-3xl font-extrabold text-white mb-8 text-center sm:text-left">
                <i data-lucide="list-checks" class="w-7 h-7 inline-block mr-2 text-indigo-400"></i>
                Acompanhamento de Pedidos
            </h1>

            <!-- Seção de Filtros e Busca (Estilo Modernizado) --><div class="bg-[var(--color-bg-card)] p-6 rounded-xl shadow-2xl mb-8 border border-slate-700/50">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center">
                    <i data-lucide="filter" class="w-5 h-5 mr-2 text-teal-400"></i>
                    Filtros de Busca Rápida
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <!-- Input de Nome --><input type="text" id="filter-name" placeholder="Buscar por Nome ou @usuário..." class="col-span-1 md:col-span-2 p-3 rounded-lg bg-slate-700/50 text-white border border-slate-600 focus:ring-indigo-500 focus:border-indigo-500 transition" oninput="applyFilters()">
                    
                    <!-- Select/Filtro de Status --><select id="filter-status" class="p-3 rounded-lg bg-slate-700/50 text-white border border-slate-600 focus:ring-indigo-500 focus:border-indigo-500 transition appearance-none cursor-pointer" onchange="applyFilters()">
                        <option value="">Todos os Status</option>
                        <option value="aguardando">Aguardando</option>
                        <option value="analise">Análise</option>
                        <option value="recuperar">Recuperação</option>
                        <option value="sucesso">Sucesso (Concluído)</option>
                        <option value="erro">Erro (Falha)</option>
                    </select>

                    <!-- Botão Limpar --><button onclick="clearFilters()" class="p-3 rounded-lg bg-slate-600 hover:bg-slate-500 text-white font-semibold transition flex items-center justify-center shadow-md">
                        <i data-lucide="trash-2" class="w-4 h-4 mr-2"></i>
                        Limpar Filtros
                    </button>
                </div>
            </div>

            <!-- Container de Resultados --><div id="requests-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards de Pedidos serão injetados aqui --></div>

            <div id="no-results" class="hidden text-center p-12 bg-[var(--color-bg-card)] rounded-xl shadow-xl mt-8 border border-slate-700/50">
                <i data-lucide="frown" class="w-12 h-12 mx-auto text-slate-500 mb-4"></i>
                <p class="text-xl text-slate-400">Nenhum pedido encontrado com os filtros aplicados.</p>
            </div>

        </div>
    </main>

    <!-- Footer (Copiado da página principal) --><footer>
        <div class="bg-slate-900 border-t border-indigo-900 py-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="flex items-center justify-center space-x-2 text-xl font-extrabold text-teal-400 mb-4">
                    <i data-lucide="shield-half" class="w-5 h-5"></i>
                    <span>HACKEA BRASIL</span>
                </div>
                <p class="text-sm text-slate-500">&copy; 2025 HACKEA BRASIL. Todos os direitos reservados. Recuperando o que é seu.</p>
            </div>
        </div>
    </footer>

    <script>
        // Dados simulados de pedidos de recuperação
        const recoveryRequests = [
            { id: '001', name: 'João Silva', username: '@joaosilvablog', email: 'joaosilva@gmail.com', date: '01/10/2025', status: 'sucesso', stage: 4, error: null },
            { id: '002', name: 'Maria Souza', username: '@mariasouzaofc', email: 'mariasouza@hotmail.com', date: '05/10/2025', status: 'analise', stage: 2, error: null },
            { id: '003', name: 'Pedro Santos', username: '@pedrosantos10', email: 'pedrosantos@yahoo.com', date: '10/10/2025', status: 'erro', stage: 3, error: 'Falha na validação de identidade documental.' },
            { id: '004', name: 'Ana Oliveira', username: '@aninhafit', email: 'ana.oliveira@outlook.com', date: '15/10/2025', status: 'aguardando', stage: 1, error: null },
            { id: '005', name: 'Lucas Ferreira', username: '@lucasferreira', email: 'lucas.ferreira@gmail.com', date: '20/10/2025', status: 'recuperar', stage: 3, error: null },
            { id: '006', name: 'Carla Dias', username: '@carladias', email: 'carla_dias@gmail.com', date: '25/10/2025', status: 'sucesso', stage: 4, error: null },
            { id: '007', name: 'Roberto Lima', username: '@robertolima', email: 'robertolima@hotmail.com', date: '28/10/2025', status: 'erro', stage: 2, error: 'O invasor reforçou a segurança 2FA.' },
        ];

        // Mapeamento de estágios para a barra de progresso (4 etapas)
        const progressStages = [
            { label: "Aguardando Início" },
            { label: "Análise/Busca" },
            { label: "Ação/Recuperação" },
            { label: "Concluído" }
        ];

        // Função para obter as iniciais
        function getInitials(name) {
            return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
        }

        // Função para censurar o email
        function censorEmail(email) {
            if (!email || typeof email !== 'string') return '***@***';
            const [localPart, domain] = email.split('@');
            if (localPart.length > 3) {
                return `${localPart[0]}***${localPart[localPart.length - 1]}@${domain}`;
            }
            return `***@${domain}`;
        }
        
        // RENDERIZADOR DE BARRA DE PROGRESSO (Progress Line Hover)
        function renderProgressBar(request) {
            
            let finalStatusLabel = request.status.charAt(0).toUpperCase() + request.status.slice(1);
            if (request.status === 'sucesso') {
                finalStatusLabel = "SUCESSO";
            } else if (request.status === 'erro') {
                finalStatusLabel = "ERRO";
            }

            const textColor = request.status === 'sucesso' ? 'text-emerald-400' : (request.status === 'erro' ? 'text-red-400' : 'text-indigo-400');
            
            // Largura de preenchimento (0%, 33.3%, 66.6%, 100%)
            const fillPercentage = ((request.stage - 1) / (progressStages.length - 1)) * 100;
            

            let progressHtml = `
                <div class="space-y-4 pt-4">
                    
                    <!-- Container da Barra -->
                    <div class="progress-container relative">
                        
                        <!-- Linha Base e Preenchimento -->
                        <div class="progress-line">
                            <div id="progress-fill-${request.id}" 
                                class="progress-fill" 
                                style="width: ${fillPercentage}%; background-color: ${request.status === 'sucesso' ? 'var(--color-success)' : (request.status === 'erro' ? 'var(--color-error)' : 'var(--color-primary)')};">
                            </div>
                        </div>

                        <!-- Indicadores das Etapas -->
                        <div class="progress-steps-wrapper">
            `;

            progressStages.forEach((stage, index) => {
                const stepNumber = index + 1;
                const isCurrent = request.stage === stepNumber && request.status !== 'sucesso' && request.status !== 'erro';
                const isPassed = request.stage >= stepNumber;
                
                let indicatorClasses = 'border-slate-600'; 
                let iconClasses = 'text-slate-600'; // Cor do ícone padrão
                let labelClasses = 'text-slate-500 font-medium';
                let dotAnimation = '';
                let iconName = 'circle'; // Ícone padrão para etapas incompletas
                
                // Cor e estilo para etapas concluídas/passadas
                if (isPassed) {
                    indicatorClasses = request.status === 'sucesso' ? 'border-emerald-600' : (request.status === 'erro' ? 'border-red-600' : 'border-indigo-600');
                    iconClasses = request.status === 'sucesso' ? 'text-emerald-500' : (request.status === 'erro' ? 'text-red-500' : 'text-indigo-500');
                    labelClasses = request.status === 'sucesso' ? 'text-emerald-400 font-semibold' : (request.status === 'erro' ? 'text-red-400 font-semibold' : 'text-indigo-400 font-semibold');
                    iconName = request.status === 'erro' && stepNumber === request.stage ? 'x-octagon' : 'check'; // Check mark ou X
                }

                // Cor e estilo para etapa atual (pulsando)
                if (isCurrent) {
                    dotAnimation = 'dot-current';
                    indicatorClasses = 'border-indigo-600';
                    iconClasses = 'text-indigo-500';
                    labelClasses = 'text-indigo-400 font-extrabold';
                    iconName = 'loader-circle'; // Loader para o estágio ativo
                }

                // Se não for a etapa atual/passada, o ícone deve ser transparente (vazio)
                if (!isPassed && !isCurrent) {
                    iconName = 'circle';
                    iconClasses = 'text-slate-700'; // Cor da borda
                }
                
                // MÁXIMO DE 4 ETAPAS PARA ALINHAMENTO PERFEITO

                progressHtml += `
                    <div class="progress-step-container">
                        <div class="progress-indicator ${indicatorClasses} ${dotAnimation}">
                            <i data-lucide="${iconName}" class="indicator-icon ${iconClasses}"></i>
                        </div>
                        <span class="text-[10px] sm:text-xs ${labelClasses} mt-2">${stage.label.replace('/', '/ ')}</span>
                    </div>
                `;
            });

            progressHtml += `
                        </div>
                    </div>

                    <!-- Status Finalizado/Erro/Ação --><div class="pt-4 border-t border-slate-700 mt-4 text-center">
                        <p class="text-xl font-bold ${textColor}">Status: ${finalStatusLabel}</p>
                        ${request.status === 'sucesso' ? 
                            `<button onclick="console.log('Resgatar Conta ${request.id}')" class="mt-4 w-full py-3 bg-emerald-600 hover:bg-emerald-700 rounded-lg text-white font-bold transition shadow-xl flex items-center justify-center">
                                <i data-lucide="key" class="w-5 h-5 mr-2"></i>
                                Resgatar Conta
                            </button>` 
                        : request.status === 'erro' ? 
                            `<div class="mt-4 p-3 bg-red-700/30 border border-red-500 rounded-lg text-red-300 font-medium">
                                ERRO: Recuperação não foi possível. Detalhes: ${request.error || 'Motivo desconhecido.'}
                            </div>` 
                        : ''}
                    </div>
                </div>
            `;

            return progressHtml;
        }


        // Função principal de renderização
        function renderRequests(requestsToRender) {
            const container = document.getElementById('requests-container');
            const noResults = document.getElementById('no-results');
            container.innerHTML = '';

            if (requestsToRender.length === 0) {
                noResults.classList.remove('hidden');
                return;
            } else {
                noResults.classList.add('hidden');
            }

            requestsToRender.forEach(request => {
                let statusColor = '';
                let extraShadowClass = 'card-shadow';
                switch (request.status) {
                    case 'sucesso': statusColor = 'border-emerald-500'; extraShadowClass = 'status-success-shadow'; break;
                    case 'erro': statusColor = 'border-red-500'; extraShadowClass = 'status-error-shadow'; break;
                    case 'analise': statusColor = 'border-indigo-500'; break;
                    case 'recuperar': statusColor = 'border-orange-500'; break;
                    case 'aguardando': statusColor = 'border-slate-600'; break;
                    default: statusColor = 'border-slate-600';
                }

                // Define a cor de fundo do status badge
                let statusBadgeBg = 'bg-slate-600';
                if (request.status === 'sucesso') statusBadgeBg = 'bg-emerald-600';
                else if (request.status === 'erro') statusBadgeBg = 'bg-red-600';
                else if (request.status === 'analise') statusBadgeBg = 'bg-indigo-600';
                else if (request.status === 'recuperar') statusBadgeBg = 'bg-orange-500';


                const cardHtml = `
                    <div class="bg-[var(--color-bg-card)] p-6 rounded-xl border ${statusColor} transform hover:scale-[1.01] transition duration-300 group ${extraShadowClass}">
                        <!-- Cabeçalho do Card (ID e Status) --><div class="flex justify-between items-center mb-4 pb-4 border-b border-slate-700/50">
                            <h3 class="text-xl font-extrabold text-white flex items-center">
                                <i data-lucide="hash" class="w-5 h-5 mr-1 text-slate-500"></i>
                                Pedido ${request.id}
                            </h3>
                            <span class="px-3 py-1 text-xs font-bold rounded-full text-white ${statusBadgeBg} shadow-md uppercase">
                                ${request.status.charAt(0).toUpperCase() + request.status.slice(1)}
                            </span>
                        </div>

                        <!-- Detalhes do Usuário --><div class="flex items-center space-x-4 mb-4">
                            <!-- Iniciais do Usuário --><div class="w-14 h-14 flex items-center justify-center bg-indigo-900/50 rounded-full text-xl font-bold text-indigo-400 flex-shrink-0 border-2 border-indigo-700/50">
                                ${getInitials(request.name)}
                            </div>
                            <div>
                                <p class="text-xl font-semibold text-white">${request.name}</p>
                                <p class="text-sm text-slate-400 mt-1">@Instagram: ${request.username}</p>
                            </div>
                        </div>

                        <div class="space-y-2 text-sm text-slate-400 mb-6 pb-4 border-b border-slate-700/50">
                            <p class="flex items-center"><i data-lucide="mail" class="w-4 h-4 mr-2 text-teal-400"></i> Email: ${censorEmail(request.email)}</p>
                            <p class="flex items-center"><i data-lucide="calendar" class="w-4 h-4 mr-2 text-teal-400"></i> Data de Solicitação: ${request.date}</p>
                        </div>

                        <!-- Barra de Progresso e Ação -->${renderProgressBar(request)}
                    </div>
                `;
                container.innerHTML += cardHtml;
            });
            lucide.createIcons(); // Recarrega ícones após injeção de HTML
        }

        // Funções de Filtragem
        function applyFilters() {
            const nameFilter = document.getElementById('filter-name').value.toLowerCase();
            const statusFilter = document.getElementById('filter-status').value.toLowerCase();

            const filteredRequests = recoveryRequests.filter(request => {
                const matchesName = request.name.toLowerCase().includes(nameFilter) || request.username.toLowerCase().includes(nameFilter);
                const matchesStatus = statusFilter === "" || request.status === statusFilter;
                return matchesName && matchesStatus;
            });

            renderRequests(filteredRequests);
        }

        function clearFilters() {
            document.getElementById('filter-name').value = '';
            document.getElementById('filter-status').value = '';
            applyFilters();
        }

        function initTracker() {
            // Renderiza todos os pedidos ao carregar
            renderRequests(recoveryRequests);
            lucide.createIcons();
        }
    </script>
</body>
</html>
